<html>
<head>
    <!--
    This is the library that provides websocket streaming pub/sub
    The dev serverver is serving the html and javascript, but it also provides updating fx data on /fx/prices.
     -->
    <script src="stomp.js"></script>
    <script src="sparkline.js"></script>
</head>
<body>

<!-- This is a description of what you should do for this task.  You can remove it for your answer -->
<section class="content">
    <h1>Currency Table</h1>   
	
	<section id="table-data">
			<table cellpadding="0" cellspacing="0" id="currency_data">
				<thead id="currency_data_thead">
					<tr>
						<th>Name</th>
						<th>Current Best Bid Price</th>
						<th>Current Best Ask Price</th>
						<th>best bid last changed</th>
						<th>best ask price last changed</th>
						<th>Sparkline</th>
					</tr>
				</thead>
				<tbody id="currency_data_tbody"></tbody>
			</table>
	</section>
    

    <p>
        The table should be sorted (and remain sorted) by the column that indicates how much the best bid price
        last changed (lastChangeBid in the response data).
    </p>


    <h3>2. Sparklines</h3>

    <p>
        The last column should be a live updating sparkline which shows the midprice over the last 30 seconds.  The
        x axis should be time. The midprice can be calculated by adding the bestBid and bestAsk fields together and
        dividing by 2.
    </p>

    <p>
        You can get a new element with a spark line drawn in it like so:

    <pre>
    const sparks = document.createElement('span')
    Sparkline.draw(sparks, [1, 2, 3, 4])
    </pre>

        Or you can get a sparkline that you can repeatedly update with rendered values:

    <pre>
    const sparkElement = document.createElement('span')
    const sparkline = new Sparkline(sparkElement)
    sparkline.draw([1,2,3,4,5])
    /** sometime later... */
    sparkline.draw([2,3,4,5,1])
    </pre>

        Here's an example sparkline: <span id="example-sparkline"></span>
</pre>

    </p>

    <p></p>

    <h2>Restrictions</h2>

    <p>
        Because we want to assess your javascript programming ability, there is a requirement that you do
        not use libraries or frameworks (other than those already included) that you haven't written yourself
        for the updating table.
    </p>

    <p>
        Although adding dependencies you haven't written yourself to the page that features the updating table
        is not allowed, <em>dependencies that you only use during build or development e.g. for testing, etc are
        allowed</em>.
    </p>

    <h2>Notes</h2>

    <p>
        We want you to submit a modification of this project where this index.html page has been replaced
        with a page showing the live updating table of sorted data.  This page should also mention or link to
        anything else you want us to consider.  For example:
    </p>

    <ul>
        <li>Anything you had to change or assume about this task to make your solution</li>
        <li>A high level description of your approach</li>
        <li>If you added any other development-time steps, what they are, why you added them and how to run them</li>
        <li>Which libraries/frameworks you would have liked to have used (if any), and how they would have made
            the result better</li>
        <li>You should include your name and email address so if we have trouble running it we can get in
            touch with you easily</li>
    </ul>

    <p>
        We are most interested in readable, <strong>simple</strong>, well structured code.  While how good the solution
        looks visually is not a key factor, it will also be considered during evaluation.  A good solution will
        include some form of testing.
    </p>

    <p>
        You should zip the project with a password of 'bauhaus'.  I will unzip it, go into the resulting folder,
        run <code>npm start</code>, navigate to <code>http://localhost:8011/</code> and see the result.
        I don't mind running <code>npm install</code> first, so you can remove the node_modules folder.
        I will be testing in a recent version of chrome, so there's no need to do extra cross browser testing, but I
        may use a mac or windows to do this, so you shouldn't include anything excessively platform specific.
    </p>
</section>

<!-- Code you write in index.js and anything it depends on will be bundled into bundle.js and
     is included here -->
<script src="bundle.js"></script>

</body>
</html>